<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<body>
  <style>
    body {
      min-height: 100vh;
      margin: 0;
      font-family: sans-serif;
      color: rgb(20, 20, 20);
      background-color: rgb(250, 250, 250);
    }
    h1 {
      margin: 0 0 3rem;
      text-align: center;
      font-weight: 300;
      font-size: 2.5rem;
    }
    .page-container {
      padding: 3rem 1rem;
    }
    .tabbed-views {
      max-width: 680px;
      margin: 0 auto;
    }
    .tab-container {
      display: flex;
      position: relative;
      top: 1px;
    }
    .tab {
      padding: 0.75rem 1.5rem 0.5rem;
      border: solid;
      border-top-right-radius: 0.25rem;
      border-top-left-radius: 0.25rem;
      cursor: pointer;
      font-size: 1.25rem;
      color: rgb(128, 128, 128);
      background-color: rgb(219, 219, 219);
    }
    .tab.active {
      padding-top: calc(0.5rem + 1px);
      border-bottom: none;
      border-top-width: 0.25rem;
      background-color: white;
    }
    [data-view="london"].tab.active {
      /*  class tab and class active  */
      color: rgb(241, 37, 7);
      border-top-color: rgb(241, 37, 7);
    }
    /* once our tab have that active  we change the color  */
    [data-view="paris"].tab.active {
      color: rgb(47, 112, 188);
      border-top-color: rgb(47, 112, 188);
    }
    [data-view="tokyo"].tab.active {
      color: rgb(59, 160, 0);
      border-top-color: rgb(59, 160, 0);
    }
    .view-container {
      border: solid;
      border-top-right-radius: 0.25rem;
      border-bottom-right-radius: 0.25rem;
      border-bottom-left-radius: 0.25rem;
      background-color: white;
      box-shadow: 0 6px 8px -6px rgba(0, 0, 0, 0.4);
    }
    .tab,
    .view-container {
      border-width: 1px;
      border-color: rgb(175, 175, 175);
    }
    .view {
      padding: 1.5rem;
      display: flex;
      align-items: flex-start;
    }
    .info {
      padding-left: 1.5rem;
    }
    .hidden {
      display: none;
    }
  </style>

  <div class="page-container">
    <div class="tabbed-views">
      <div class="tab-container">
        <button class="tab active" data-view="london">London</button>
        <button class="tab" data-view="paris">Paris</button>
        <button class="tab" data-view="tokyo">Tokyo</button>
        <!-- event delagetion: if I click anything that is inside of this tab container, my event is going to fire -->
      </div>
    </div>

    <div class="view-container">
      <div class="view" data-view="london">
        <div class="info">
          <h2>London</h2>
          <p>London is the capital city of England</p>
        </div>
      </div>

      <div class="view hidden" data-view="paris">
        <div class="info">
          <h2>Paris</h2>
          <p>Paris is the capital of France.</p>
        </div>
      </div>


    <div class="view hidden" data-view="tokyo">
      <div class="info">
        <h2>Tokyo</h2>
        <p>Tokyo is the capital of Japan.</p>
      </div>
    </div>

  </div>

  <script>
    const $tabCon = document.querySelector(".tab-container");
    const $tabs = document.querySelectorAll(".tab");
    const $views = document.querySelectorAll(".view");

    // if (!$tabContainer) throw new Error("$tabContainer query failed");

    // $tabCon.addEventListener("click", (event) => {
    //   const $eventTarget = event.target;
    //   if (!$eventTarget.matches(".tab")) {
    //     return;
    //   }
    // });
    console.log("Tab Container:", $tabCon);
    console.log("Tabs:", $tabs);
    console.log("Views:", $views);
    if ($tabCon) {
      $tabCon.addEventListener("click", (event) => {
        const $eventTarget = event.target;
        console.log("event target", $eventTarget);
        if ($eventTarget.matches(".tab")) {

          for (let i = 0; i < $tabs.length; i++) {
            if ($tabs[i] === $eventTarget) {
              console.log(`tab ${i}`, $tabs[i]);
              $tabs[i].className = "tab active";
            } else {
              $tabs[i].classList.remove("active");
              //  $tabs[i].className = "tab"
            }
          }
          //const viewName = $eventTarget.dataset.view;
          // for (let viewIndex = 0; viewIndex < $views.length; viewIndex++) {
          //   if ($views[viewIndex].getAttribute("data-view") !== viewName) {
          //     $views[viewIndex].className = "view hidden";
          //   } else {
          //     $views[viewIndex].className = "view";
          //   }
          // }
          const targetView = $eventTarget.dataset.view;
          console.log("$eventTarget.dataset.view", $eventTarget.dataset.view);
          console.log("targetView", targetView);
          // Update the current .view element's class name to either show or hide its content
          $views.forEach((view) => {
            if (view.getAttribute("data-view") !== targetView) {
              view.className = "view hidden";
              console.log("view.className", view.className);
            } else {
              view.className = "view";
            }
          });
        }
      });
    }
    // $tabContainer.addEventListener("click", (event) => {
    //   const $eventTarget = event.target;
    //   if (!eventTarget.matches(".tab")) {
    //     return;
    //   }
    // });
    // for (let tabIndex = 0; tabIndex < $tabs.length; tabIndex++) {
    //   if ($tabs[tabIndex] === $eventTarget) {
    //     $tabs[tabIndex].className = "tab active";
    //   } else {
    //     $tab[tabIndex].className = "tab";
    //   }
    // }
  </script>
</body>
